name: work
version: 1
description: the system which contains project work
models:
  project:
    description: the project holds work
    columns:
      - name: name
        description: the name of the project
        type: string
      - name: identifier
        description: the common identifier for the project
        type: string
      - name: url
        description: the url to the project home page
        type: string
  field_type:
    description: user defined fields
    columns:
      - name: name
        description: the name of the field
        type: string
      - name: key
        description: key of the field
        type: string
  issue:
    description: the issue is a specific work item for a project
    columns:
      - name: title
        description: the issue title
        type: string
      - name: identifier
        description: the common identifier for the issue
        type: string
      - name: project_id
        description: unique project id
        type: string
        relation:
          kind: parent
          type: work.Project
          description: the project for this issue
          name: project
      - name: url
        description: the url to the issue page
        type: string
      - name: created_ts
        description: the timestamp in UTC that the issue was created
        type: int
      - name: updated_ts
        description: the timestamp in UTC that the issue was updated
        type: int
        timestamp: true
      - name: planned_start_ts
        description: the timestamp in UTC that the issue was planned to start
        type: int
      - name: planned_end_ts
        description: the timestamp in UTC that the issue was planned to end
        type: int
      - name: due_date_ts
        description: due date of the issue
        type: int
      - name: priority
        description: priority of the issue
        type: string
      - name: type
        description: type of issue
        type: string
      - name: status
        description: status of the issue
        type: string
      - name: creator_ref_id
        description: user id of the creator
        type: string
      - name: reporter_ref_id
        description: user id of the reporter
        type: string
      - name: assignee_ref_id
        description: user id of the assignee
        type: string
      - name: author_ref_id
        description: user id of the author
        type: string
      - name: tags
        description: tags on the issue
        type: Array<string>
      - name: parent_id
        description: parent issue id, if any
        type: string
        relation:
          kind: parent
          type: work.Issue
          description: the parent for this issue
          name: parent
      - name: resolution
        description: resolution of the issue
        type: string
  changelog:
    description: change log
    columns:
      - name: issue_id
        description: id of the issue
        type: string
      - name: created_ts
        description: the timestamp in UTC when this change was created
        type: int
        timestamp: true
      - name: ordinal
        description: so we can order correctly in queries since dates could be equal
        type: int
      - name: user_id
        description: id of the user of this change
        type: string
      - name: field
        description: name of the field that was changed
        type: string
      - name: field_type
        description: type of the field that was changed
        type: string
      - name: from
        description: id of the change from
        type: string
      - name: from_string
        description: name of the change from
        type: string
      - name: to
        description: id of the change to
        type: string
      - name: to_string
        description: name of the change to
        type: string
  user:
    description: user details
    columns:
      - name: name
        description: the name of the field
        type: string
      - name: email
        description: key of the field
        type: string
      - name: active
        description: wether this user is active
        type: boolean
      - name: created_ts
        description: when the user was created, timestamp in UTC
        type: int
        timestamp: true
      - name: deleted_ts
        description: when the user was deleted, timestamp in UTC
        type: int
      - name: location
        description: physical location of the user
        type: string
  sprint:
    description: sprint details
    columns:
      - name: name
        description: the name of the field
        type: string
      - name: identifier
        description: the common identifier for the sprint
        type: string
      - name: status
        description: status of the sprint
        type: string
      - name: started_ts
        description: the timestamp in UTC that the sprint was started
        type: int
        timestamp: true
      - name: ended_ts
        description: the timestamp in UTC that the sprint was ended
        type: int
      - name: completed_ts
        description: the timestamp in UTC that the sprint was completed
        type: int
