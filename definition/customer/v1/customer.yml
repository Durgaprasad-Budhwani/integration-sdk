name: customer
version: 1
description: customer specific data
models:
  cost_center:
    description: a cost center represents information about users and their cost
    mutable: true
    idgen:
      - customer_id
      - name
    columns:
      - name: name
        description: the name of the cost center
        type: string
      - name: description
        description: the description for the cost center
        type: string
      - name: cost
        description: the cost value of the cost center
        type: float
  team:
    description: a team is a grouping of one or more users
    mutable: true
    idgen:
      - customer_id
      - name
    columns:
      - name: name
        description: the name of the team
        type: string
      - name: parent_id
        description: the parent id of the team
        type: string
        optional: true
        relation:
          kind: parent
          type: customer.Team
          description: the Team that this user is related to
          name: parent
  user: 
    description: the customer's user record
    mutable: true
    idgen:
      - customer_id
      - email
    columns:
    - name: name
      description: name of the user
      type: string
    - name: email
      description: the email of the user
      type: string
    - name: title
      description: the title of the user
      type: string
      optional: true
    - name: location
      description: the location of the user
      type: string
      optional: true
    - name: avatar_url
      description: the user avatar url
      type: string
      optional: true
    - name: manager_id
      description: the manager user id
      type: string
      optional: true
      relation:
        kind: parent
        type: customer.User
        description: the User that this user reports to
        name: manager
    - name: active
      description: if true, the user is active and able to login
      type: boolean
      default: false
    - name: trackable
      description: if true, the user is trackable in the pinpoint system
      type: boolean
      default: true
    - name: created_ts
      description: when the user was created in epoch timestamp
      type: int
    - name: updated_ts
      description: when the user record was updated in epoch timestamp
      type: int
    - name: deleted_ts
      description: when the user record was deleted in epoch timestamp
      type: int
      optional: true
    - name: hired_ts
      description: when the user was hired in epoch timestamp
      type: int
      optional: true
    - name: terminated_ts
      description: when the user was terminated in epoch timestamp
      type: int
      optional: true
    - name: cost_center_id
      description: the id of the cost center
      type: string
      optional: true
      relation:
        kind: parent
        type: customer.CostCenter
        description: the Cost Center that this user is related to
        name: repo
    - name: team_id
      description: the team id that the user is part of
      type: string
      optional: true
      relation:
        kind: parent
        type: customer.Team
        description: the Team that this user is related to
        name: team
